<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/main.css">
    <title>Asana</title>
</head>
<body>

    <header>
        <div class="container-full">
            <nav class="navbar row">
                    <div class="nav-menu">
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                    <a class="bold" href="#">My tasks</a>
                    <a class="light" href="#">Inbox</a>
                    <div class="nav-button">
                        <a href="#">+</a>
                    </div>
                    <input class="nav-searchbar" type="text" name="serachbar" />
                    <a class="light" href="#">Help</a>
                    <a class="light" href="#">Personal Projects</a>
                    <img class="avatar" src="images/avatar.jpg" alt="Personal Photo">
                </ul>
            </nav>
        </div>
    </header>

    <div class="sub-header">
        <div class="row">
                <img class="avatar" src="images/avatar.jpg" alt="Personal Photo">
                <h1>My personal tasks </h1>
        </div>
    </div>

    <main>
        <div class="container">
            <section class="task-list">
                <div class="task-list-header row">
                    <div>
                        <button class="btn btn-add-task bold" onclick="vm.openTaskDetail()">Add Task</button>
                    </div>
                    <img class="icon icon-settings" src="images/icons/icon-settings.png" alt="Open Settings">
                </div>
                <div class="task-list-body"></div>
            </section>

            <section class="task-detail" hidden>

                <div class="task-detail-header row">
                        <div class="task-detail-header-avatar row">
                             <img class="avatar" src="images/avatar.jpg" alt="Personal Photo">
                             <span class="bold">Guilherme Freitas</span>
                        </div>
                        <div class="task-detail-header-actions row">
                            <a class="btn-action-dotted icon-action icon-due-date" href="#"></a>
                            <span class="bold">Due Date</span>
                            <a class="btn-action icon-action icon-heart" href="#"></a>
                            <a class="btn-action icon-action icon-subtask" href="#"></a>
                            <a class="btn-action icon-action icon-attach" href="#"></a>
                            <a class="btn-action icon-action icon-more" href="#"></a>
                        </div>
                        <div class="task-detail-header-close">
                            <button class="btn-close" onclick="vm.closeTaskDetail()">X</button>
                        </div>
                </div>
                <div class="task-detail-body row">
                    <form onsubmit="vm.submitTask(event)">
                        <input name="task.id" type="text" hidden/>
                        <div class="input-with-img">
                            <input class="input-task-title" name="task.title" type="text" placeholder="New Task" onblur="vm.submitTask(event)"/>
                        </div>
                        <textarea class="input-task-description" name="task.description" placeholder="Description" cols="30" rows="20" onblur="vm.submitTask(event)"></textarea>
                        <input type="submit" hidden/>
                    </form>     
                </div>
                <div class="task-detail-footer row">
                    <img class="avatar" src="images/avatar.jpg" alt="Personal Photo">
                    <textarea name="task.comment" id="" cols="30" rows="10" placeholder="Comment here"></textarea>
                </div>
            </section> 
        </div>
    </main>

    <script src="js/app/services/ConnectionFactory.js"></script>
    <script src="js/app/views/View.js"></script>
    <script src="js/app/models/Task.js"></script>
    <script src="js/app/dao/TaskDAO.js"></script>
    <script src="js/app/models/TasksList.js"></script>
    <script src="js/app/views/TasksView.js"></script>
    <script src="js/app/controllers/TaskController.js"></script>
    <script>
        let vm = new TaskController();
    </script>
</body>
</html>